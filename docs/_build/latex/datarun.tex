% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}

\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
  \DeclareUnicodeCharacter{00A0}{\nobreakspace}
\else\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb}
\usepackage{babel}
\usepackage{times}
\usepackage[Bjarne]{fncychap}
\usepackage{longtable}
\usepackage{sphinx}
\usepackage{multirow}
\usepackage{eqparbox}


\addto\captionsenglish{\renewcommand{\figurename}{Fig. }}
\addto\captionsenglish{\renewcommand{\tablename}{Table }}
\SetupFloatingEnvironment{literal-block}{name=Listing }

\addto\extrasenglish{\def\pageautorefname{page}}

\setcounter{tocdepth}{1}


\title{datarun Documentation}
\date{May 31, 2016}
\release{0.1}
\author{Camille}
\newcommand{\sphinxlogo}{}
\renewcommand{\releasename}{Release}
\makeindex

\makeatletter
\def\PYG@reset{\let\PYG@it=\relax \let\PYG@bf=\relax%
    \let\PYG@ul=\relax \let\PYG@tc=\relax%
    \let\PYG@bc=\relax \let\PYG@ff=\relax}
\def\PYG@tok#1{\csname PYG@tok@#1\endcsname}
\def\PYG@toks#1+{\ifx\relax#1\empty\else%
    \PYG@tok{#1}\expandafter\PYG@toks\fi}
\def\PYG@do#1{\PYG@bc{\PYG@tc{\PYG@ul{%
    \PYG@it{\PYG@bf{\PYG@ff{#1}}}}}}}
\def\PYG#1#2{\PYG@reset\PYG@toks#1+\relax+\PYG@do{#2}}

\expandafter\def\csname PYG@tok@gd\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gu\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@gt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PYG@tok@gs\endcsname{\let\PYG@bf=\textbf}
\expandafter\def\csname PYG@tok@gr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PYG@tok@cm\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@vg\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@vi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@mh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@cs\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\colorbox[rgb]{1.00,0.94,0.94}{\strut ##1}}}
\expandafter\def\csname PYG@tok@ge\endcsname{\let\PYG@it=\textit}
\expandafter\def\csname PYG@tok@vc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@il\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@go\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.20,0.20,0.20}{##1}}}
\expandafter\def\csname PYG@tok@cp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@gi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PYG@tok@gh\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PYG@tok@ni\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.84,0.33,0.22}{##1}}}
\expandafter\def\csname PYG@tok@nl\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.13,0.44}{##1}}}
\expandafter\def\csname PYG@tok@nn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@no\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.38,0.68,0.84}{##1}}}
\expandafter\def\csname PYG@tok@na\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@nb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.05,0.52,0.71}{##1}}}
\expandafter\def\csname PYG@tok@nd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.33,0.33,0.33}{##1}}}
\expandafter\def\csname PYG@tok@ne\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@nf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.49}{##1}}}
\expandafter\def\csname PYG@tok@si\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.44,0.63,0.82}{##1}}}
\expandafter\def\csname PYG@tok@s2\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@nt\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.02,0.16,0.45}{##1}}}
\expandafter\def\csname PYG@tok@nv\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.38,0.84}{##1}}}
\expandafter\def\csname PYG@tok@s1\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@ch\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@m\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@gp\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@sh\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@ow\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@sx\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.78,0.36,0.04}{##1}}}
\expandafter\def\csname PYG@tok@bp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c1\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@o\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PYG@tok@kc\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@c\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@mf\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@err\endcsname{\def\PYG@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PYG@tok@mb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@ss\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.32,0.47,0.09}{##1}}}
\expandafter\def\csname PYG@tok@sr\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.14,0.33,0.53}{##1}}}
\expandafter\def\csname PYG@tok@mo\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kd\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@mi\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.13,0.50,0.31}{##1}}}
\expandafter\def\csname PYG@tok@kn\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@cpf\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.50,0.56}{##1}}}
\expandafter\def\csname PYG@tok@kr\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@s\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@kp\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@w\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PYG@tok@kt\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.56,0.13,0.00}{##1}}}
\expandafter\def\csname PYG@tok@sc\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sb\endcsname{\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@k\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.00,0.44,0.13}{##1}}}
\expandafter\def\csname PYG@tok@se\endcsname{\let\PYG@bf=\textbf\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}
\expandafter\def\csname PYG@tok@sd\endcsname{\let\PYG@it=\textit\def\PYG@tc##1{\textcolor[rgb]{0.25,0.44,0.63}{##1}}}

\def\PYGZbs{\char`\\}
\def\PYGZus{\char`\_}
\def\PYGZob{\char`\{}
\def\PYGZcb{\char`\}}
\def\PYGZca{\char`\^}
\def\PYGZam{\char`\&}
\def\PYGZlt{\char`\<}
\def\PYGZgt{\char`\>}
\def\PYGZsh{\char`\#}
\def\PYGZpc{\char`\%}
\def\PYGZdl{\char`\$}
\def\PYGZhy{\char`\-}
\def\PYGZsq{\char`\'}
\def\PYGZdq{\char`\"}
\def\PYGZti{\char`\~}
% for compatibility with earlier versions
\def\PYGZat{@}
\def\PYGZlb{[}
\def\PYGZrb{]}
\makeatother

\renewcommand\PYGZsq{\textquotesingle}

\begin{document}

\maketitle
\tableofcontents
\phantomsection\label{index::doc}


Datarun goal is to train and test machine learning models. It is a REST API written in Django.

The basic workflow is the following (more details can be found in {\hyperref[modules/workflow:workflow]{\crossref{\DUrole{std,std-ref}{How to use datarun?}}}}):
\begin{enumerate}
\item {} 
Data (on which machine learning models are trained and tested) are sent to datarun.

\item {} 
Models and train and test indices of CV fold are send to datarun, which train and test these models on these indices.

\item {} 
The resulting predictions can then be requested.

\end{enumerate}

In this documentation, we use the following terminology (which corresponds to the database tables, cf {\hyperref[modules/models:models]{\crossref{\DUrole{std,std-ref}{Models}}}}):
\begin{itemize}
\item {} 
\code{RawData} refers to the data on which machine learning models are trained and tested

\item {} 
\code{Submission} refers to a machine learning model

\item {} 
\code{Submission on cv fold} / \code{SubmissionFold} refers to a submission and the indices of train and test of a cv fold.

\end{itemize}

Contents:


\chapter{How to use datarun?}
\label{modules/workflow:how-to-use-datarun}\label{modules/workflow::doc}\label{modules/workflow:welcome-to-datarun-s-documentation}\label{modules/workflow:workflow}
The workflow to use datarun is the following:


\section{1- Send data to datarun}
\label{modules/workflow:send-data-to-datarun}
The standard format of a data file excepted by datarun is a csv file whose first row contains the feature and target names, each line corresponds to a data sample.

Here is an example of a standard data file:

\begin{Verbatim}[commandchars=\\\{\}]
\PYG{n}{sepal} \PYG{n}{length}\PYG{p}{,}\PYG{n}{sepal} \PYG{n}{width}\PYG{p}{,}\PYG{n}{petal} \PYG{n}{length}\PYG{p}{,}\PYG{n}{petal} \PYG{n}{width}\PYG{p}{,}\PYG{n}{species}
\PYG{l+m+mf}{5.1}\PYG{p}{,}\PYG{l+m+mf}{3.5}\PYG{p}{,}\PYG{l+m+mf}{1.4}\PYG{p}{,}\PYG{l+m+mf}{0.2}\PYG{p}{,}\PYG{n}{setosa}
\PYG{l+m+mf}{4.9}\PYG{p}{,}\PYG{l+m+mf}{3.0}\PYG{p}{,}\PYG{l+m+mf}{1.4}\PYG{p}{,}\PYG{l+m+mf}{0.2}\PYG{p}{,}\PYG{n}{setosa}
\PYG{l+m+mf}{4.7}\PYG{p}{,}\PYG{l+m+mf}{3.2}\PYG{p}{,}\PYG{l+m+mf}{1.3}\PYG{p}{,}\PYG{l+m+mf}{0.2}\PYG{p}{,}\PYG{n}{setosa}
\PYG{l+m+mf}{4.6}\PYG{p}{,}\PYG{l+m+mf}{3.1}\PYG{p}{,}\PYG{l+m+mf}{1.5}\PYG{p}{,}\PYG{l+m+mf}{0.2}\PYG{p}{,}\PYG{n}{setosa}
\end{Verbatim}

If your data match the standard data file, you need to send:
- the name of the data set (for instance if you use databoard, you can use the problem name)
- your data file
- the name of the target column
- the workflow elements of the problem related to the dataset (for instance feature\_extractor, classifier, ...)

If your data do not match the standard data file, you need to send in addition to above:
\begin{itemize}
\item {} 
a python file with three specific functions: \code{prepare\_data(raw\_data\_path)}, \code{get\_train\_data(raw\_data\_path)}, and \code{get\_test\_data(raw\_data\_path)}. An example of such file is \code{test\_files/variable\_stars/variable\_stars\_datarun.py}.

\item {} 
possibly other data files (if your data are split in different files).

\end{itemize}

In both cases, to send you data to datarun, you can use:
\begin{itemize}
\item {} 
a post request to \code{\textless{}master-host\textgreater{}/runapp/rawdata/} (cf {\hyperref[modules/views:requestsdirect]{\crossref{\DUrole{std,std-ref}{direct requests}}}}, class runapp.views.RawDataList)

\item {} 
the \code{post\_data} function in the module test\_files.post\_api (cf {\hyperref[modules/views:requestsmodule]{\crossref{\DUrole{std,std-ref}{post\_api module}}}})

\end{itemize}

\textbf{Note for databoard users:}
To send data to datarun and to split data into train and test dataset, you can user the function \code{send\_data\_datarun} of \code{databoard/db\_tools.py}, which uses the functions \code{post\_data} and \code{post\_split} (or \code{custom\_post\_split}) of the module test\_files.post\_api of datarun.


\section{2- Split data into train and test dataset}
\label{modules/workflow:split-data-into-train-and-test-dataset}
If your data match the standard format, you can use:
\begin{itemize}
\item {} 
a post request to \code{\textless{}master-host\textgreater{}/runapp/rawdata/split/} (cf {\hyperref[modules/views:requestsdirect]{\crossref{\DUrole{std,std-ref}{direct requests}}}}, class runapp.views.SplitTrainTest)

\item {} 
the \code{post\_split} function in the module test\_files.post\_api (cf {\hyperref[modules/views:requestsmodule]{\crossref{\DUrole{std,std-ref}{post\_api module}}}})

\end{itemize}

If your data do not match the standard format, you can use:
\begin{itemize}
\item {} 
a post request to \code{\textless{}master-host\textgreater{}/runapp/rawdata/customsplit/} (cf {\hyperref[modules/views:requestsdirect]{\crossref{\DUrole{std,std-ref}{direct requests}}}}, class runapp.views.CustomSplitTrainTest)

\item {} 
the \code{custom\_post\_split} function in the module test\_files.post\_api (cf {\hyperref[modules/views:requestsmodule]{\crossref{\DUrole{std,std-ref}{post\_api module}}}})

\end{itemize}

\textbf{Note for databoard users:}
To send data to datarun and to split data into train and test dataset, you can user the function \code{send\_data\_datarun} of \code{databoard/db\_tools.py}, which uses the functions \code{post\_data} and \code{post\_split} (or \code{custom\_post\_split}) of the module test\_files.post\_api of datarun.


\section{3- Send submission on cv fold to be trained on datarun}
\label{modules/workflow:send-submission-on-cv-fold-to-be-trained-on-datarun}
To send a submission on cv fold, you can use:
\begin{itemize}
\item {} 
a post request to \code{\textless{}master-host\textgreater{}/runapp/submissionfold/} (cf {\hyperref[modules/views:requestsdirect]{\crossref{\DUrole{std,std-ref}{direct requests}}}}, class runapp.views.SubmissionFoldList)

\item {} 
the \code{post\_submission\_fold} function in the module test\_files.post\_api (cf {\hyperref[modules/views:requestsmodule]{\crossref{\DUrole{std,std-ref}{post\_api module}}}})

\end{itemize}

If the associted submission files have already been sent, you'll need to send:
\begin{itemize}
\item {} 
the if of the associated submission

\item {} 
the id of the submission on cv fold

\item {} 
the train and test indices of the cv fold.
* after compression (with zlib) and base64-encoding if you use a post request
* the raw indices if you use the \code{post\_submission\_fold} function

\item {} 
the priority level (\code{L} for low or \code{H} for high) of training this submission on cv fold.

\item {} 
an indication that you want to force retraining the submission on cv fold even if it already exists (\code{force="submission\_fold"} instead of \code{force=None}).

\end{itemize}

If the associated submission files have not been sent, you need to add:
\begin{itemize}
\item {} 
the id of the associated data

\item {} 
the list of submission files

\item {} 
an indication that you want to force resending the submission even if its id already exists (\code{force="submission"} instead of \code{force=None}).

\end{itemize}


\section{4- Get back your predictions}
\label{modules/workflow:get-back-your-predictions}
If you want to get all predictions that have not been requested, you can use:
\begin{itemize}
\item {} 
a post request to \code{\textless{}master-host\textgreater{}/runapp/testpredictions/new/} (cf {\hyperref[modules/views:requestsdirect]{\crossref{\DUrole{std,std-ref}{direct requests}}}}, class runapp.views.GetTestPredictionNew)

\item {} 
the \code{get\_prediction\_new} function in the module test\_files.post\_api (cf {\hyperref[modules/views:requestsmodule]{\crossref{\DUrole{std,std-ref}{post\_api module}}}})

\end{itemize}

If you want to get predictions given a list of submission on cv fold ids, you can use:
\begin{itemize}
\item {} 
a post request to \code{\textless{}master-host\textgreater{}/runapp/testpredictions/list/} (cf {\hyperref[modules/views:requestsdirect]{\crossref{\DUrole{std,std-ref}{direct requests}}}}, class runapp.views.GetTestPredictionList)

\item {} 
the \code{get\_prediction\_list} function in the module test\_files.post\_api (cf {\hyperref[modules/views:requestsmodule]{\crossref{\DUrole{std,std-ref}{post\_api module}}}})

\end{itemize}


\chapter{Models}
\label{modules/models:models}\label{modules/models::doc}\label{modules/models:id1}
The database schema is the following:
\begin{figure}[htbp]
\centering

\includegraphics{{schema_database}.jpg}
\end{figure}
\phantomsection\label{modules/models:module-runapp.models}\index{runapp.models (module)}\index{RawData (class in runapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/models:runapp.models.RawData}\pysiglinewithargsret{\strong{class }\code{runapp.models.}\bfcode{RawData}}{\emph{*args}, \emph{**kwargs}}{}~\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{name}} (\emph{\texttt{string}}) -- name of the data set

\item {} 
\textbf{\texttt{files\_path}} (\emph{\texttt{string}}) -- path of file where data are saved

\item {} 
\textbf{\texttt{workflow\_elements}} (\emph{\texttt{string}}) -- list of workflow elements used to solve the RAMP

\item {} 
\textbf{\texttt{column}} (\emph{\texttt{target}}) -- name of the target column

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{Submission (class in runapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/models:runapp.models.Submission}\pysiglinewithargsret{\strong{class }\code{runapp.models.}\bfcode{Submission}}{\emph{*args}, \emph{**kwargs}}{}~\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{databoard\_s\_id}} (\emph{\texttt{IntegerField(primary\_key=True)}}) -- id of the submission in the db of databoard

\item {} 
\textbf{\texttt{files\_path}} (\emph{\texttt{CharField(max\_length=200, null=True)}}) -- path of submitted files

\item {} 
\textbf{\texttt{raw\_data}} (\emph{\texttt{ForeignKey(RawData, null=True, blank=True)}}) -- associated raw data

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{SubmissionFold (class in runapp.models)}

\begin{fulllineitems}
\phantomsection\label{modules/models:runapp.models.SubmissionFold}\pysiglinewithargsret{\strong{class }\code{runapp.models.}\bfcode{SubmissionFold}}{\emph{*args}, \emph{**kwargs}}{}~\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{databoard\_sf\_id}} (\emph{\texttt{IntegerField(primary\_key=True)}}) -- id of the submission on cv fold in databoard db

\item {} 
\textbf{\texttt{databoard\_s}} (\emph{\texttt{ForeignKey(Submission, null=True, blank=True)}}) -- associated submission

\item {} 
\textbf{\texttt{train\_is}} (\emph{\texttt{TextField}}) -- train indices

\item {} 
\textbf{\texttt{test\_is}} (\emph{\texttt{TextField}}) -- test indices

\item {} 
\textbf{\texttt{priority}} (\emph{\texttt{CharField, choices.}}) -- priority to train-test the fold        (`L' for low priority, `H' for high priority)

\item {} 
\textbf{\texttt{full\_train\_predictions}} (\emph{\texttt{TextField}}) -- predictions of the entire train dataset

\item {} 
\textbf{\texttt{test\_predictions}} (\emph{\texttt{TextField}}) -- predictions of the test dataset

\item {} 
\textbf{\texttt{state}} (\emph{\texttt{CharField, choices.}}) -- TODO, TRAINED, VALIDATED, TESTED, ERROR

\item {} 
\textbf{\texttt{log\_messages}} (\emph{\texttt{TextField}}) -- logs recorded during train and test

\item {} 
\textbf{\texttt{train\_time}} (\emph{\texttt{FloatField, default=0.}}) -- real clock training time

\item {} 
\textbf{\texttt{validation\_time}} (\emph{\texttt{FloatField, default=0.}}) -- real clock validation time

\item {} 
\textbf{\texttt{test\_time}} (\emph{\texttt{FloatField, default=0.}}) -- real clock testing time

\item {} 
\textbf{\texttt{train\_cpu\_time}} (\emph{\texttt{FloatField, default=0.}}) -- training cpu time

\item {} 
\textbf{\texttt{train\_memory}} -- peak memory usage during train and test (in kb)

\item {} 
\textbf{\texttt{test\_cpu\_time}} -- test cpu time

\item {} 
\textbf{\texttt{test\_memory}} (\emph{\texttt{FloatField, default=0.}}) -- peak memory usage durnig train and test (in kb)

\item {} 
\textbf{\texttt{new}} (\emph{\texttt{BooleanField, default=True.}}) -- True when it has not already been sent by the API

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\chapter{Requests}
\label{modules/views:requests}\label{modules/views::doc}
You can either make direct requests to the datarun API, or use the post\_api function.


\section{direct requests}
\label{modules/views:direct-requests}\label{modules/views:module-runapp.views}\label{modules/views:requestsdirect}\index{runapp.views (module)}\index{CustomSplitTrainTest (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.CustomSplitTrainTest}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{CustomSplitTrainTest}}{\emph{**kwargs}}{}
Split data set into train and test datasets for custom dataset
(when a specific.py was submitted along with raw data
\index{post() (runapp.views.CustomSplitTrainTest method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.CustomSplitTrainTest.post}\pysiglinewithargsret{\bfcode{post}}{\emph{request}, \emph{format=None}}{}
Split raw data into train and test datasets for custom dataset
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password -H ``Content-Type: application/json''            -X POST            -d `\{``raw\_data\_id'': 1\}'                http://127.0.0.1:8000/runapp/rawdata/customsplit/

Don't forget double quotes for the json, simple quotes do not work
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.post(`\url{http://127.0.0.1:8000/runapp/raw\_data/customsplit/}`,                          auth=(`username', `password'),                          json=\{`raw\_data\_id': 1\})
\end{quote}

\end{itemize}

---
parameters:
\begin{itemize}
\item {} 
name: raw\_data\_id
description: id of the raw dataset
required: true
type: integer
paramType: form

\end{itemize}

\end{fulllineitems}


\end{fulllineitems}

\index{GetTestPredictionList (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.GetTestPredictionList}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{GetTestPredictionList}}{\emph{**kwargs}}{}
Get predictions of submissions on cv fold given their ids
\index{post() (runapp.views.GetTestPredictionList method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.GetTestPredictionList.post}\pysiglinewithargsret{\bfcode{post}}{\emph{request}, \emph{format=None}}{}
Retrieve predictions (on the test data set) of SubmissionFold instances        among a list of id that have been trained and tested
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password -H ``Content-Type: application/json''            -X POST            -d `\{``list\_submission\_fold'': {[}1, 2, 10{]}\}'                http://127.0.0.1:8000/runapp/testpredictions/list/

Don't forget double quotes for the json, simple quotes do not work
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.post(`\url{http://127.0.0.1:8000/runapp/testpredictions/list/}`,                          auth=(`username', `password'),                          json=\{`list\_submission\_fold': {[}1, 2, 10{]}\})
\end{quote}

\end{itemize}

---
parameters:
\begin{itemize}
\item {} 
name: list\_submission\_fold
description: list of submission on cv fold ids
required: true
type: list
paramType: form

\end{itemize}

response\_serializer: TestPredSubmissionFoldSerializer

\end{fulllineitems}


\end{fulllineitems}

\index{GetTestPredictionNew (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.GetTestPredictionNew}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{GetTestPredictionNew}}{\emph{**kwargs}}{}
Get predictions of submissions on cv fold that have not been requested
\index{post() (runapp.views.GetTestPredictionNew method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.GetTestPredictionNew.post}\pysiglinewithargsret{\bfcode{post}}{\emph{request}, \emph{format=None}}{}
Retrieve predictions (on the test data set) of  SubmissionFold        instances that have been trained and tested and not yet requested.        You can specify a given data challenge by posting the raw\_data id.
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password -H ``Content-Type: application/json''            -X POST            -d `\{``raw\_data\_id'': 1\}'                http://127.0.0.1:8000/runapp/testpredictions/new/

Don't forget double quotes for the json, simple quotes do not work
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.post(`\url{http://127.0.0.1:8000/runapp/testpredictions/new/}`,                          auth=(`username', `password'),                          json=\{`raw\_data\_id': 1\})
\end{quote}

\end{itemize}

---
parameters:
\begin{itemize}
\item {} 
name: raw\_data\_id
description: id of the raw dataset from which to get predictions
required: false
type: integer
paramType: form

\end{itemize}

response\_serializer: TestPredSubmissionFoldSerializer

\end{fulllineitems}


\end{fulllineitems}

\index{RawDataList (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.RawDataList}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{RawDataList}}{\emph{**kwargs}}{}
List all data set or submit a new one
\index{get() (runapp.views.RawDataList method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.RawDataList.get}\pysiglinewithargsret{\bfcode{get}}{\emph{request}, \emph{format=None}}{}
List all raw dataset
\begin{itemize}
\item {} 
Example with curl (on localhost):

\end{itemize}

curl -u username:password GET http://127.0.0.1:8000/runapp/rawdata/
\begin{itemize}
\item {} 
Example with the python package requests (on localhost):

\end{itemize}

requests.get(`\url{http://127.0.0.1:8000/runapp/rawdata/}`,            auth=(`username', `password'))

---
response\_serializer: RawDataSerializer

\end{fulllineitems}

\index{post() (runapp.views.RawDataList method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.RawDataList.post}\pysiglinewithargsret{\bfcode{post}}{\emph{request}, \emph{format=None}}{}
Create a new dataset

You have to post the name of the dataset, the target column,        the workflow elements, and the raw data file. If your data file does        not match the format expected by datarun (a csv with a first row            containing the feature and target column name, and then a row for            each sample), you can submit a python file containing three            functions: prepare\_data(data\_path), get\_train\_data(data\_path),            and get\_test\_data(data\_path)
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password   -H ``Content-Type: application/json''            -X POST            -d `\{``name'': ``iris'', ``target\_column'': ``species'',                 ``workflow\_elements'': ``classifier'',                ``files'': \{``iris.csv'': `blablabla', `specific.py': `bli'\}\}'                http://127.0.0.1:8000/runapp/rawdata/

Don't forget double quotes for the json, simple quotes don't work.
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.post(`\url{http://127.0.0.1:8000/runapp/rawdata/}`,                          auth=(`username', `password'),                          json=\{`name': `iris', `target\_column': `species',                                 `workflow\_elements': `classifier',                        `files': \{`iris.csv': `bla', `specific.py': `bli'\}\})
\end{quote}

\end{itemize}

---
request\_serializer: RawDataSerializer
response\_serializer: RawDataSerializer

\end{fulllineitems}


\end{fulllineitems}

\index{SplitTrainTest (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SplitTrainTest}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{SplitTrainTest}}{\emph{**kwargs}}{}
Split data set into train and test datasets for normal dataset
\index{post() (runapp.views.SplitTrainTest method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SplitTrainTest.post}\pysiglinewithargsret{\bfcode{post}}{\emph{request}, \emph{format=None}}{}
Split raw data into train and test datasets for normal dataset
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password -H ``Content-Type: application/json''            -X POST            -d `\{``random\_state'': 42, ``held\_out\_test'': 0.7, ``raw\_data\_id'': 1\}'                http://127.0.0.1:8000/runapp/rawdata/split/

Don't forget double quotes for the json, simple quotes do not work
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.post(`\url{http://127.0.0.1:8000/runapp/raw\_data/split/}`,                          auth=(`username', `password'),                          json=\{`random\_state': 42, `held\_out\_test': 0.7,                                `raw\_data\_id': 1\})
\end{quote}

\end{itemize}

---
parameters:
\begin{itemize}
\item {} 
name: random\_state
description: random state used to split data
required: false
type: integer
paramType: form

\item {} 
name: held\_out\_test
description: percentage of the dataset kept as test dataset
required: true
type: float
paramType: form

\item {} 
name: raw\_data\_id
description: id of the raw dataset
required: true
type: integer
paramType: form

\end{itemize}

\end{fulllineitems}


\end{fulllineitems}

\index{SubmissionFoldDetail (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SubmissionFoldDetail}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{SubmissionFoldDetail}}{\emph{**kwargs}}{}
Get a submission on CV fold given its id
\index{get() (runapp.views.SubmissionFoldDetail method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SubmissionFoldDetail.get}\pysiglinewithargsret{\bfcode{get}}{\emph{request}, \emph{pk}, \emph{format=None}}{}
Retrieve a SubmissionFold instance to check its state
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password GET            http://127.0.0.1:8000/runapp/submissionfold/10/
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.get(`\url{http://127.0.0.1:8000/runapp/submissionfold/10/}`,            auth=(`username', `password'))
\end{quote}

\end{itemize}

---
parameters:
\begin{itemize}
\item {} 
name : pk
description: id of the submission on cv fold in the databoard db
required: true
type: interger
paramType: path

\end{itemize}

response\_serializer: SubmissionFoldSerializer

\end{fulllineitems}


\end{fulllineitems}

\index{SubmissionFoldLightList (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SubmissionFoldLightList}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{SubmissionFoldLightList}}{\emph{**kwargs}}{}
To get main info about all submissions on CV fold
\index{get() (runapp.views.SubmissionFoldLightList method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SubmissionFoldLightList.get}\pysiglinewithargsret{\bfcode{get}}{\emph{request}, \emph{format=None}}{}
List main info (id, submission id, state, new) about all submissions        on CV fold
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password GET            http://127.0.0.1:8000/runapp/submissionfold-light/
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.get(`\url{http://127.0.0.1:8000/runapp/submissionfold-light/}`,            auth=(`username', `password'))
\end{quote}

\end{itemize}

---
response\_serializer: SubmissionFoldLightSerializer

\end{fulllineitems}


\end{fulllineitems}

\index{SubmissionFoldList (class in runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SubmissionFoldList}\pysiglinewithargsret{\strong{class }\code{runapp.views.}\bfcode{SubmissionFoldList}}{\emph{**kwargs}}{}
To get all submissions on CV fold
\index{get() (runapp.views.SubmissionFoldList method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SubmissionFoldList.get}\pysiglinewithargsret{\bfcode{get}}{\emph{request}, \emph{format=None}}{}
List all submission on CV fold
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password GET            http://127.0.0.1:8000/runapp/submissionfold/
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.get(`\url{http://127.0.0.1:8000/runapp/submissionfold/}`,            auth=(`username', `password'))
\end{quote}

\end{itemize}

---
response\_serializer: SubmissionFoldSerializer

\end{fulllineitems}

\index{post() (runapp.views.SubmissionFoldList method)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.SubmissionFoldList.post}\pysiglinewithargsret{\bfcode{post}}{\emph{request}, \emph{format=None}}{}
Create a submission on CV fold (and if necessary the associated        submission)
\begin{itemize}
\item {} 
Example with curl (on localhost):
\begin{quote}

curl -u username:password   -H ``Content-Type: application/json''            -X POST            -d `\{``databoard\_s\_id'': 1, ``files'': \{``classifier.py'':                ``import sklearn..''\}, ``train\_is'': ``hgjhg'', ``raw\_data'':1,                ``databoard\_sf\_id'': 11, ``test\_is'': ``kdjhLGf2'',                ``priority'': ``L''\}'                http://127.0.0.1:8000/runapp/submissionfold/

Don't forget double quotes for the json, simple quotes do not work
\end{quote}

\item {} 
Example with the python package requests (on localhost):
\begin{quote}

requests.post(`\url{http://127.0.0.1:8000/runapp/submissionfold/}`,                          auth=(`username', `password'),                          json=\{`databoard\_sf\_id': 10, `databoard\_s\_id': 24,                                `raw\_data': 8, `train\_is': `GDHRFdfgfd',                                `test\_is': `kdjhLGf2', `priority': `L'                                `files': \{`classifier.py': `import skle...'\}\})
\end{quote}

\end{itemize}

Possible to force the submission and submission on CV fold (even if the        ids already exist) by adding to the data dictionary         ``force'': `submission, submission\_fold' to resubmit both, or         ``force'': `submission\_fold' to resubmit only the submission on CV fold

---
request\_serializer: SubmissionFoldSerializer
response\_serializer: SubmissionFoldSerializer

\end{fulllineitems}


\end{fulllineitems}

\index{save\_files() (in module runapp.views)}

\begin{fulllineitems}
\phantomsection\label{modules/views:runapp.views.save_files}\pysiglinewithargsret{\code{runapp.views.}\bfcode{save\_files}}{\emph{dir\_data}, \emph{data}}{}
save files from data{[}'files'{]} in directory dir\_data

\end{fulllineitems}



\section{post\_api module}
\label{modules/views:requestsmodule}\label{modules/views:module-test_files.post_api}\label{modules/views:post-api-module}\index{test\_files.post\_api (module)}\index{custom\_post\_split() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.custom_post_split}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{custom\_post\_split}}{\emph{host\_url}, \emph{username}, \emph{password}, \emph{raw\_data\_id}}{}
To split data between train and test on datarun using a specific
prepare\_data function sent by databoard
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\item {} 
\textbf{\texttt{raw\_data\_id}} (\emph{\texttt{integer}}) -- id of the raw dataset on datarun

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_prediction\_list() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.get_prediction_list}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{get\_prediction\_list}}{\emph{host\_url}, \emph{username}, \emph{password}, \emph{list\_submission\_fold\_id}}{}
Get predictions given a list of submission on cv fold ids
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\item {} 
\textbf{\texttt{list\_submission\_fold\_id}} (\emph{\texttt{list}}) -- list of submission on cv fold ids from     which we want the predictions

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_prediction\_new() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.get_prediction_new}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{get\_prediction\_new}}{\emph{host\_url}, \emph{username}, \emph{password}, \emph{raw\_data\_id}}{}
Get all new predictions given a raw data id
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\item {} 
\textbf{\texttt{raw\_data\_id}} (\emph{\texttt{integer}}) -- id of a data set from which we want new predictions

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_raw\_data() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.get_raw_data}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{get\_raw\_data}}{\emph{host\_url}, \emph{username}, \emph{password}}{}
Get all raw data sets
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_submission\_fold() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.get_submission_fold}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{get\_submission\_fold}}{\emph{host\_url}, \emph{username}, \emph{password}}{}
Get all submission on cv fold (all attributes)
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_submission\_fold\_detail() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.get_submission_fold_detail}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{get\_submission\_fold\_detail}}{\emph{host\_url}, \emph{username}, \emph{password}, \emph{submission\_fold\_id}}{}
Get details about a submission on cv fold given its id
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\item {} 
\textbf{\texttt{submission\_fold\_id}} -- id of the submission on cv fold

\item {} 
\textbf{\texttt{submission\_fold\_id}} -- integer

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_submission\_fold\_light() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.get_submission_fold_light}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{get\_submission\_fold\_light}}{\emph{host\_url}, \emph{username}, \emph{password}}{}
Get all submissions on cv fold    only main info: id, associated submission id, state, and new
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{post\_data() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.post_data}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{post\_data}}{\emph{host\_url}, \emph{username}, \emph{password}, \emph{data\_name}, \emph{target\_column}, \emph{workflow\_elements}, \emph{data\_file}, \emph{extra\_files=None}}{}
To post data to the datarun api.    Data are compressed (with zlib) and base64-encoded before being posted.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\item {} 
\textbf{\texttt{data\_name}} (\emph{\texttt{string}}) -- name of the raw dataset

\item {} 
\textbf{\texttt{target\_column}} (\emph{\texttt{string}}) -- name of the target column

\item {} 
\textbf{\texttt{workflow\_elements}} (\emph{\texttt{string}}) -- workflow elements associated with this dataset,    e.g., feature\_extractor, classifier

\item {} 
\textbf{\texttt{data\_file}} (\emph{\texttt{string}}) -- name with absolute path of the dataset file

\item {} 
\textbf{\texttt{extra\_files}} (\emph{\texttt{list of string}}) -- list of names with absolute path of extra files        (such as a specific.py)

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{post\_split() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.post_split}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{post\_split}}{\emph{host\_url}, \emph{username}, \emph{password}, \emph{held\_out\_test}, \emph{raw\_data\_id}, \emph{random\_state=42}}{}
To split data between train and test on datarun
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\item {} 
\textbf{\texttt{held\_out\_test}} (\emph{\texttt{float (between 0 and 1)}}) -- ratio of data for the test set

\item {} 
\textbf{\texttt{raw\_data\_id}} (\emph{\texttt{integer}}) -- id of the raw dataset on datarun

\item {} 
\textbf{\texttt{random\_state}} (\emph{\texttt{integer}}) -- random state to be used in the shuffle split

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{post\_submission\_fold() (in module test\_files.post\_api)}

\begin{fulllineitems}
\phantomsection\label{modules/views:test_files.post_api.post_submission_fold}\pysiglinewithargsret{\code{test\_files.post\_api.}\bfcode{post\_submission\_fold}}{\emph{host\_url}, \emph{username}, \emph{password}, \emph{sub\_id}, \emph{sub\_fold\_id}, \emph{train\_is}, \emph{test\_is}, \emph{priority='L'}, \emph{raw\_data\_id=None}, \emph{list\_submission\_files=None}, \emph{force=None}}{}
To post submission on cv fold and submission (if not already posted).    Submission files are compressed (with zlib) and base64-encoded before being    posted.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\textbf{\texttt{host\_url}} (\emph{\texttt{string}}) -- api host url, such as \url{http://127.0.0.1:8000/} (localhost)

\item {} 
\textbf{\texttt{username}} (\emph{\texttt{string}}) -- username to be used for authentication

\item {} 
\textbf{\texttt{password}} (\emph{\texttt{string}}) -- password to be used for authentication

\item {} 
\textbf{\texttt{sub\_id}} (\emph{\texttt{integer}}) -- id of the submission on databoard

\item {} 
\textbf{\texttt{sub\_fold\_id}} (\emph{\texttt{integer}}) -- id of the submission on cv fold on databoard

\item {} 
\textbf{\texttt{train\_is}} (\emph{\texttt{numpy array}}) -- train indices for the cv fold

\item {} 
\textbf{\texttt{test\_is}} (\emph{\texttt{numpy array}}) -- test indices for the cv fold

\item {} 
\textbf{\texttt{priority}} (\emph{\texttt{string}}) -- priority level to train test the model: L for low    and H for high

\item {} 
\textbf{\texttt{raw\_data\_id}} (\emph{\texttt{integer}}) -- id of the associated data, when submitting a submission

\item {} 
\textbf{\texttt{list\_submission\_files}} (\emph{\texttt{list}}) -- list of files of the submission,        when submitting a submission

\item {} 
\textbf{\texttt{force}} (\emph{\texttt{string}}) -- to force the submission even if ids already exist        force can be `submission, submission\_fold' to resubmit both        or `submission, submission\_fold' to resubmit only the submission        on cv fold. None by default.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}



\chapter{Indices and tables}
\label{index:indices-and-tables}\begin{itemize}
\item {} 
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{theindex}
\def\bigletter#1{{\Large\sffamily#1}\nopagebreak\vspace{1mm}}
\bigletter{r}
\item {\texttt{runapp.models}}, \pageref{modules/models:module-runapp.models}
\item {\texttt{runapp.views}}, \pageref{modules/views:module-runapp.views}
\indexspace
\bigletter{t}
\item {\texttt{test\_files.post\_api}}, \pageref{modules/views:module-test_files.post_api}
\end{theindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}
